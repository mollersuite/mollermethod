--[[<meta name='robots' content='noindex,nofollow' /><style>body{font-size:0;font-family:sans-serif}</style><main style="font-size:initial">
	<h1>mollermethod</h1>
	<p>a script hub made of mollybdenum</p>
	<code>loadstring (game:HttpGet 'https://mthd.ml') {}</code>
</main>]]

local CONFIG = ...
local API = loadstring(game:HttpGetAsync('https://mthd.ml/api'))()
local ContentProvider = game:GetService('ContentProvider')
local Tween = game:GetService('TweenService')
local Debris = game:GetService('Debris')

-- //
-- || INSTANCE SETUP
-- \\

local GUI = Instance.new('ScreenGui')
GUI.Name = game:GetService('HttpService'):GenerateGUID()
GUI.IgnoreGuiInset = true
GUI.ResetOnSpawn = false
GUI.DisplayOrder = 2 ^ 31 - 1
API.parent(GUI)

local logo = Instance.new('ImageButton', GUI)
logo.AnchorPoint = Vector2.new(0, 1)
logo.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
logo.BackgroundTransparency = 1
logo.ImageColor3 = Color3.fromRGB(0, 0, 0)
logo.BorderSizePixel = 0
logo.Position = UDim2.new(0, 0, 1, 0)
logo.Size = UDim2.new(0, 50, 0, 50)
logo.ZIndex = 10000
logo.Image = 'rbxassetid://7554747376'
logo.ImageTransparency = 1
logo.ScaleType = Enum.ScaleType.Fit

local list = Instance.new('ScrollingFrame', GUI)
list.AnchorPoint = Vector2.new(0, 1)
list.BackgroundTransparency = 1
list.AutomaticCanvasSize = Enum.AutomaticSize.X
list.BorderSizePixel = 0
list.CanvasSize = UDim2.fromScale(0, 0)
list.Position = UDim2.new(0, 50, 1, 50)
list.Size = UDim2.new(1, -50, 0, 50)
list.ZIndex = 10000

local UIListLayout = Instance.new('UIListLayout', list)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 5)
UIListLayout.FillDirection = Enum.FillDirection.Horizontal
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center

local function card(text, onclick)
	local card = Instance.new('TextButton', list)
	local padding = Instance.new('UIPadding', card)
	Instance.new('UICorner', card).CornerRadius = UDim.new(1, 0)

	padding.PaddingLeft = UDim.new(0, 10)
	padding.PaddingRight = UDim.new(0, 10)
	card.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	card.BorderSizePixel = 0
	card.Font = Enum.Font.RobotoCondensed
	card.TextColor3 = Color3.fromRGB(255, 255, 255)
	card.Size = UDim2.new(0, 0, 0, 30)
	card.AutomaticSize = Enum.AutomaticSize.X
	card.Text = text
	card.MouseButton1Click:Connect(function()
		onclick(card)
	end)
	card.TextSize = 15
end

card('card test', function() end)

-- //
-- || INTRO
-- \\

local ids = {
	'rbxassetid://7037264869', -- the infamous images/zzz
	'rbxassetid://7037156897', -- moller circular
	'rbxassetid://7043731194', -- molly mug
	'rbxassetid://7037269561', -- devil dog (will kill you if you do not repost)
	'rbxassetid://7037272153', -- mollerOS logo
	'rbxassetid://7037339934', -- molge
	'rbxassetid://7037356929', -- idk what this is but its funny
	'rbxassetid://7044042331', -- mollersuite/moller hub logo before it got turned monocolor
	'rbxassetid://7044088926', -- seconds before "bragle" was taken
	'rbxassetid://7046289590' -- she wants your food
}

-- While this runs, it will display the loading screen consisting of molly photos zooming to the bottom left corner, after that it plays the startup sound and tweens the card lists in
function preload(finish)
	local time = os.clock()

	-- loading code here...
	ContentProvider:PreloadAsync({ 'rbxassetid://8192419115','rbxassetid://8370988437' })


	local finished = os.clock()
	print('[mollermethod] Loaded in ' .. (finished - time) .. ' seconds.')
	-- Animation should play for at least 1 second because that's how long it was before I made this into a loading screen
	if (finished - time) < 1 then
		task.wait(1 - (finished - time))
	end
	finish()
end

function intro()
	local loading = true

	Tween:Create(
		logo,
		TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
		{ ImageTransparency = 0 }
	):Play()

	task.spawn(preload, function()
		loading = false
		API.play('rbxassetid://8370988437')--8192419115')
		task.wait(1)

		Tween:Create(
			logo,
			TweenInfo.new(.3, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
			{ ImageColor3 = Color3.fromRGB(255, 255, 255) }
		):Play()

		Tween:Create(
			list,
			TweenInfo.new(.3, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
			{ Position = UDim2.new(0, 50, 1, 0) }
		):Play()

		-- API.notify{
		-- 	Text = 'Welcome to codename m²',
		-- 	App = 'codename m²'
		-- }
	end)

	while loading do
		local particle = Instance.new('ImageLabel', GUI)
		particle.ImageTransparency = 1
		particle.Size = UDim2.new(0, 150, 0, 150)
		particle.Image = ids[math.random(#ids)]
		particle.BackgroundTransparency = 1
		particle.ScaleType = Enum.ScaleType.Fit
		particle.ZIndex = -100
		particle.AnchorPoint = Vector2.new(0, 1)
		particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
		Tween:Create(particle, TweenInfo.new(.1), { ImageTransparency = 0 }):Play()
		Tween:Create(
			particle,
			TweenInfo.new(1, Enum.EasingStyle.Exponential, Enum.EasingDirection.In),
			{
				Position = UDim2.new(0, 0, 1, 0),
				Size = UDim2.new()
			}
		):Play()
		Debris:AddItem(particle, 1.5)
		task.wait(1 / 60)
	end
end

task.spawn(intro)

function outro()
	Debris:AddItem(logo, 0)

	for i = 0, 50 do
		local particle = Instance.new('ImageLabel', GUI)
		particle.Size = UDim2.new()
		particle.Image = ids[math.random(#ids)]
		particle.BackgroundTransparency = 1
		particle.ScaleType = Enum.ScaleType.Fit
		particle.ZIndex = -100
		particle.AnchorPoint = Vector2.new(0, 1)
		particle.Position = UDim2.new(0, 0, 1, 0)
		particle.ImageTransparency = 0
		Tween:Create(
			particle,
			TweenInfo.new(
				.1,
				Enum.EasingStyle.Sine,
				Enum.EasingDirection.InOut,
				0,
				false,
				.7
			),
			{ ImageTransparency = 1 }
		):Play()
		Tween:Create(
			particle,
			TweenInfo.new(1, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out),
			{
				Position = UDim2.new(math.random(), 0, math.random(), 0),
				Size = UDim2.new(0, 150, 0, 150)
			}
		):Play()
		Debris:AddItem(particle, 1.5)
		game:GetService('RunService').Heartbeat:Wait()
	end
	game:GetService('Debris'):AddItem(GUI, 1.5)
end
