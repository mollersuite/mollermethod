--[[<meta name='robots' content='noindex,nofollow' /><link rel="stylesheet" href="style.css"><main>
	<h1>mollermethod<sup><img src="icon.png" title="wat da dog doin" height="16"></sup></h1>
	<p>&gt; how<br> mollermethod.</p>
	<pre>
loadstring (game:HttpGet "<noscript>https://mthd.ml</noscript><script>document.write(location)</script>") {

}</pre>
<h2>features (green = done, red = working on/planned, mollermethod will only launch when all are green)</h2>
<ul>
	<li class="done">when ran in some script builders, or a game you own, you get special serversided features</li>
	<li class="fail">a command line interface, named trollsmile. (named after my previous attempts at this) press <code>[</code> to toggle it.</li>
	<li class="fail">moller sidekick: mollermethod automatically suggests scripts depending on what you're doing in the game.
	<ul>
	<li>example: you build a glue-powered flying machine grinder in BABFT, and moller sidekick will suggest an autofarm</li>
	</ul>
	</li>
	<li class="fail">A plugin API, for the games we don't support. (i got no idea how this is gonna look)</li>
	<li class="fail">at least like 10 games (just put this here so i can track it)</li>
	<li class="fail">can join ropro codes, rogold codes, and DomainX codes (until mlemix sees this and changes the backend)</li>
	<li class="fail">it can create rogold, ropro, and js join codes</li>
	<li class="done">i didn't steal the startup sound from the os i use (hi shlex)</li>
	<li class="done">this very website is actually the source, press control+u, or try <code>source.innerHTML</code> in js console</li>
	<li>compared to domain x:
		<ul>
			<li class="done">no linkvertises</li>
			<li class="done">no paid version</li>
			<li class="done">no backend to go down every day (hi mlemix)</li>
			<li class="done">we dont make fucking cafe games</li>
			<li class="done">we have a fucking website (shlex.dev is a blank page)</li>
			<li class="done">domain has been made three items, mollermethod has been made four times (moller hub, then a ui like mollerOS taskbar, then moller hub rework, then the current ui)</li>
		</ul>
	</li>
</ul>
<small>mollermethod is made of mollybdenum</small>
</main><template hidden id=source>--]]

local CONFIG = ... or {}
local API = CONFIG.API or loadstring(game:HttpGetAsync('https://mthd.ml/api'))'mollermethod API'

local ContentProvider = game:GetService('ContentProvider')
local Tween = game:GetService('TweenService')
local Players = game:GetService('Players')
local GuiService = game:GetService('GuiService')
local Debris = game:GetService('Debris')
local Player = Players.LocalPlayer

local GUI = Instance.new('ScreenGui')
GUI.Name = game:GetService('HttpService'):GenerateGUID()
GUI.IgnoreGuiInset = true
GUI.ResetOnSpawn = false
GUI.DisplayOrder = (2 ^ 31) - 1
API.parent(GUI)

local ids = {
	'rbxassetid://7037264869', -- the infamous images/zzz
	'rbxassetid://7037156897', -- moller circular
	'rbxassetid://7043731194', -- molly mug
	'rbxassetid://7037269561', -- devil dog (will kill you if you do not repost)
	'rbxassetid://7037272153', -- mollerOS logo
	'rbxassetid://7037339934', -- molge
	'rbxassetid://7037356929', -- idk what this is but its funny
	'rbxassetid://7044042331', -- mollersuite/moller hub logo before it got turned monocolor
	'rbxassetid://7044088926', -- seconds before "bragle" was taken
	'rbxassetid://7046289590' -- she wants your food
}

local remote
function serverside()
	local remotename = game:GetService('HttpService'):GenerateGUID(false)
	local Code =
		string.format(
			[[
			pcall(function ()
				script.Parent = nil
			end)
			local nativeloadstring = pcall(loadstring, '--')
			local remote = Instance.new('RemoteFunction', game:GetService('ProximityPromptService'))
			remote.Name = %q
			function func (player, action, code)
				if player.UserId ~= %i then
					return
				end
				if action == 'respawn' then
					player:LoadCharacter()
				end
				if action == 'run' then
					task.defer(pcall, function ()
						local run = nativeloadstring and loadstring or require(8194576728)
						run(code)()
					end)
				end
			end
			remote.OnServerInvoke = func
		]],
			remotename,
			Player.UserId
		)
	local PlayerGui = Player:FindFirstChildOfClass('PlayerGui')

	if game.PlaceId == 1075564225 then -- Script Showcase
		game:GetService('ReplicatedStorage').ScriptRemotes.LoadS:FireServer('Server', Code)
	end

	if game.PlaceId == 7061215094 then -- Madness Mainia! Script Builder
		PlayerGui.Executor.Remote:FireServer(Code)
	end

	if game.PlaceId == 6948453065 then -- require script
		PlayerGui:FindFirstChild('SS Executor').Frame.Exe.RemoteEvent:FireServer(Code)
	end

	-- todo: detect adonis and then use command bar to do :s

	game:GetService('LogService'):ExecuteScript(Code) -- Developer Console
	return game:GetService('ProximityPromptService'):WaitForChild(remotename, 1)
end

function preload(finish)
	local time = os.clock()

	-- loading code here...
	ContentProvider:PreloadAsync({ 'rbxassetid://8192419115', 'rbxassetid://8370988437' })

	remote = serverside() -- takes 1 second if the game isnt an sb, instant otherwise
	local finished = os.clock()
	print('[mollermethod] Loaded in ' .. (finished - time) .. ' seconds.')

	if (finished - time) < 1 then
		task.wait(1 - (finished - time))
	end

	finish()
end

local quotes = {
	'"I like snake venom is because of its UI/UX effects [...] I dont have anywehre [sic] near the skill to recreate it" - Sp3ct3r3, 2022',
	'"i forgot how to sleep" - Mr. Hase, 2022',
	'"bruh im having so much trouble with ca-tay ui" - Bongo, 2022',
	'":(" - Mr. Hase, 2021',
	'"I know how to bypass https encryption" - tact, 2022',
	'"Leave it your gonna fry that battery" - Vexaria\'s dad, 2021',
	'"trollsmile [not] winning" - Amourousity, 2021',
	'"[I want you to make a] grab knife script but its a meme knife for mobile and pc" - k9#7062, 2021',
	'"WHAT THE FUCK IS MOLY MOLER [sic] DOING" - DeadBoris, 2021',
	'"i fuking hat you ashole ill fuck find you [...] tis yor fault" - Vexaria, 2021',
	'"this is why you dont give people stuff that actually works and isnt bad" - Charlie, 2021',
	'"Well listen and listen well, me and Auxnos partnered and fixed the animations, lights, and fixed the guns." - mongrio, 2021',
	'"i made it much much worse" - Jack, 2020',
	'"i am making a shitty script wanna see it" - Jack, 2020',
	[["I'ma hack u y'all" - cash_youtwin, 2020]],
	'mollermethod: at least it\'s not the Hyperskidded Ultraskidded Superskidded Infinite Immortal Rainbow Rare UTG Neko God Sans Chara Furry Antiban Antideath Admin Sex Banisher Visualizer Kickisher Glitcher Switcher Cannon espaÃ±ol FE CR (OP) Auxnos Amourousity Godcat Aaron Durick "unskidded" "require script" leak working 2015',
	'mollermethod: proudly not associated with APT2283' -- this is a warrant canary, remove it if someone from 2283 gets mollermethod
}

function intro()
	local loading = true

	task.defer(preload, function()
		loading = false
		API.play('rbxassetid://8370988437') --8192419115')
		task.wait(1)

		API.notify{
			Text = '<b>Pause</b> to open mollermethod.\n<i>' .. quotes[math.random(#quotes)] .. '</i>',
			App = 'mollermethod'
		}
	end)

	while loading do
		local particle = Instance.new('ImageLabel', GUI)
		particle.ImageTransparency = 1
		particle.Size = UDim2.new(0, 150, 0, 150)
		particle.Image = ids[math.random(#ids)]
		particle.BackgroundTransparency = 1
		particle.ScaleType = Enum.ScaleType.Fit
		particle.ZIndex = 100
		particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
		Tween:Create(particle, TweenInfo.new(.1), { ImageTransparency = 0 }):Play()
		Tween:Create(
			particle,
			TweenInfo.new(1, Enum.EasingStyle.Exponential, Enum.EasingDirection.In),
			{
				Position = UDim2.new(),
				Size = UDim2.new()
			}
		):Play()
		Debris:AddItem(particle, 1.5)
		task.wait(1 / 60)
	end
end

-- task.spawn(intro)
intro()

game:GetService('CoreGui').InGameMenu.Overlay.InputCapturer.Visible = false -- lets us click the empty space without closing the menu
local frame = Instance.new('Frame', GUI)
frame.Visible = GuiService.MenuIsOpen
frame.BackgroundTransparency = 1
frame.BorderSizePixel = 0
frame.Position = UDim2.fromOffset(464)
frame.Size = UDim2.new(1, -464, 1, 0)

local title = Instance.new('TextButton', frame)
title.Text = 'mollermethod' .. (remote and ' [serverside]' or '')
title.Font = Enum.Font.GothamBlack
title.TextSize = 24
title.Size = UDim2.new(1, 0, 0, title.TextBounds.Y)

if remote then
	local executor = Instance.new('TextBox', frame)
	executor.Text = ''
	executor.PlaceholderText = '-- So Dank'
	executor.Font = Enum.Font.RobotoMono
	executor.TextSize = 14
	executor.BackgroundTransparency = 1
	executor.TextColor3 = Color3.new(1, 1, 1)
	executor.Size = UDim2.new(1, 0, 1, -title.TextBounds.Y)
	executor.Position = UDim2.fromOffset(0, title.TextBounds.Y)
	executor.TextXAlignment = Enum.TextXAlignment.Left
	executor.TextYAlignment = Enum.TextYAlignment.Top
	executor.TextWrapped = true
	executor.MultiLine = true
	executor.ClearTextOnFocus = false
	title.MouseButton1Click:Connect(function()
		if string.len(executor.Text) > 0 then
			remote:InvokeServer('run', executor.Text)
			executor.Text = ''
		else
			remote:InvokeServer('respawn')
		end
	end)
end

GuiService.MenuClosed:Connect(function()
	frame.Visible = false
end)

GuiService.MenuOpened:Connect(function()
	frame.Visible = true
end)
--</template>
