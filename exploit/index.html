--[[<meta name='robots' content='noindex,nofollow' /><style>body{font-size:0;font-family:sans-serif}</style><main style="font-size:initial">
	<h1>mollermethod</h1>
	<p>a script hub made of mollybdenum</p>
	<code>loadstring (game:HttpGet 'https://mthd.ml') {}</code>
</main>]]

local CONFIG = ...
local API = loadstring(game:HttpGetAsync('https://mthd.ml/api'))()
local ContentProvider = game:GetService('ContentProvider')
local Tween = game:GetService('TweenService')
local Players = game:GetService('Players')
local GuiService = game:GetService('GuiService')
local Debris = game:GetService('Debris')

local GUI = Instance.new('ScreenGui')
GUI.Name = game:GetService('HttpService'):GenerateGUID()
GUI.IgnoreGuiInset = true
GUI.ResetOnSpawn = false
GUI.DisplayOrder = (2 ^ 31) - 1
API.parent(GUI)

local ids = {
	'rbxassetid://7037264869', -- the infamous images/zzz
	'rbxassetid://7037156897', -- moller circular
	'rbxassetid://7043731194', -- molly mug
	'rbxassetid://7037269561', -- devil dog (will kill you if you do not repost)
	'rbxassetid://7037272153', -- mollerOS logo
	'rbxassetid://7037339934', -- molge
	'rbxassetid://7037356929', -- idk what this is but its funny
	'rbxassetid://7044042331', -- mollersuite/moller hub logo before it got turned monocolor
	'rbxassetid://7044088926', -- seconds before "bragle" was taken
	'rbxassetid://7046289590' -- she wants your food
}

local remote
function serverside()
	local Code = 'require(idk)(' .. Players.LocalPlayer.UserId .. ')' -- TODO: make idk real
	if game.PlaceId == 1075564225 then -- Script Showcase
		game:GetService('ReplicatedStorage').ScriptRemotes.LoadS:FireServer(
			'Server',
			Code
		)
	end

	if game.PlaceId == 3362132792 then -- Empty Baseplate
		-- nvm lol
	end

	-- todo: detect adonis and then use command bar to do :s

	game:GetService('LogService'):ExecuteScript(Code) -- Developer Console
	return game:GetService('ProximityPromptService'):WaitForChild(
		'mollermethod_' .. Players.LocalPlayer.UserId,
		1
	)
end
function preload(finish)
	local time = os.clock()

	-- loading code here...
	ContentProvider:PreloadAsync({
		'rbxassetid://8192419115',
		'rbxassetid://8370988437'
	})

	remote = serverside() -- takes 1 second if the game isnt an sb, instant otherwise
	local finished = os.clock()
	print('[mollermethod] Loaded in ' .. (finished - time) .. ' seconds.')

	finish()
end

local quotes = {
	'"trollsmile [not] winning" - Amourousity, 2021',
	[["I'm not a troll, I'm a moller" - GitHub Copilot, 2022]],
	'"i made it much much worse" - Jack, 2020',
	'"i am making a shitty script wanna see it" - Jack, 2020',
	'"Why, hello, Sun Rays Effect :)" - The_OofieFoof, 2020',
	'"skull emoji" - Amourousity, 2021 & 2022'
}
function intro()
	local loading = true

	task.defer(preload, function()
		loading = false
		API.play('rbxassetid://8370988437') --8192419115')
		task.wait(1)

		API.notify{
			Text = 'Pause to open mollermethod.',
			App = 'mollermethod'
		}
	end)

	while loading do
		local particle = Instance.new('ImageLabel', GUI)
		particle.ImageTransparency = 1
		particle.Size = UDim2.new(0, 150, 0, 150)
		particle.Image = ids[math.random(#ids)]
		particle.BackgroundTransparency = 1
		particle.ScaleType = Enum.ScaleType.Fit
		particle.ZIndex = 100
		particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
		Tween:Create(particle, TweenInfo.new(.1), { ImageTransparency = 0 }):Play()
		Tween:Create(
			particle,
			TweenInfo.new(1, Enum.EasingStyle.Exponential, Enum.EasingDirection.In),
			{
				Position = UDim2.new(),
				Size = UDim2.new()
			}
		):Play()
		Debris:AddItem(particle, 1.5)
		task.wait(1 / 60)
	end
end

task.spawn(intro)

local frame = Instance.new('Frame', GUI)
frame.Visible = GuiService.MenuIsOpen
frame.BackgroundTransparency = 1
frame.BorderSizePixel = 0
frame.Position = UDim2.fromOffset(464)
frame.Size = UDim2.new(1, -464, 1, 0)

local title = Instance.new('TextLabel', frame)
title.Text = 'mollermethod'
title.Font = Enum.Font.GothamBlack
title.TextSize = 24
title.Size = UDim2.new(1, 0, 0, title.TextBounds.Y)

game:GetService('CoreGui').InGameMenu.Overlay.InputCapturer.Visible = false -- lets us click the empty space without closing the menu

GuiService.MenuClosed:Connect(function()
	frame.Visible = false
end)

GuiService.MenuOpened:Connect(function()
	frame.Visible = true
end)
