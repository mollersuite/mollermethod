--[[<meta name='robots' content='noindex,nofollow' /><style>body{font-size:0;font-family:sans-serif}</style><main style="font-size:initial">
	<h1>codename m²</h1> <!-- mollermethod -->
	<p>a beagle's gui</p>
	<h2>Planned Features</h2>
	<ul>
		<li>Customizable, with custom wallpapers, colors, and even branding.</li>
		<li>Add your own plugins, and have them automatically update.</li>
		<li>Compatible with Synapse, Script-Ware, Krnl, and Fluxus.</li>
		<li>Undetectable when using Synapse & Script-Ware</li>
	</ul>
	<code>loadstring (game:HttpGet 'https://mthd.ml') {}</code>
</main>]]

local CONFIG = ...
local API = loadstring(game:HttpGetAsync('https://mthd.ml/api'))()
local ContentProvider = game:GetService('ContentProvider')
local Tween = game:GetService('TweenService')
local Debris = game:GetService('Debris')


-- //
-- || INSTANCE SETUP
-- \\

local GUI = Instance.new('ScreenGui')
GUI.Name = game:GetService('HttpService'):GenerateGUID()
GUI.IgnoreGuiInset = true
GUI.ResetOnSpawn = false
GUI.DisplayOrder = 2 ^ 31 - 1
API.parent(GUI)

local logo = Instance.new('ImageButton', GUI)
logo.AnchorPoint = Vector2.new(0, 1)
logo.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
logo.BackgroundTransparency = 1
logo.ImageColor3 = Color3.fromRGB(0,0,0)
logo.BorderSizePixel = 0
logo.Position = UDim2.new(0, 0, 1, 0)
logo.Size = UDim2.new(0, 50, 0, 50)
logo.ZIndex = 10000
logo.Image = 'rbxassetid://7554747376'
logo.ImageTransparency = 1
logo.ScaleType = Enum.ScaleType.Fit

local list = Instance.new('ScrollingFrame', GUI)
list.AnchorPoint = Vector2.new(0, 1)
list.BackgroundTransparency = 1
list.AutomaticCanvasSize = Enum.AutomaticSize.X
list.BorderSizePixel = 0
list.CanvasSize = UDim2.fromScale(0, 0)
list.Position = UDim2.new(0, 50, 1, 0)
list.Size = UDim2.new(1, -50, 0, 50)
list.ZIndex = 10000

local UIListLayout = Instance.new('UIListLayout', list)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 5)
UIListLayout.FillDirection = Enum.FillDirection.Horizontal
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center

local function card(text)
	local card = Instance.new('TextButton', list)
	local padding = Instance.new('UIPadding', card)
	Instance.new('UICorner', card).CornerRadius = UDim.new(1, 0)

	padding.PaddingLeft = UDim.new(0, 10)
	padding.PaddingRight = UDim.new(0, 10)
	card.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	card.BorderSizePixel = 0
	card.Font = Enum.Font.RobotoCondensed
	card.TextColor3 = Color3.fromRGB(255, 255, 255)
	card.Size = UDim2.new(0, 0, 0, 30)
	card.AutomaticSize = Enum.AutomaticSize.X
	card.Text = text
	card.TextSize = 15
end

card('mollermethod test')

-- //
-- || INTRO
-- \\

local ids = {
	7037264869, -- the infamous images/zzz
	7037156897, -- moller circular
	7043731194, -- molly mug
	7037269561, -- devil dog (will kill you if you do not repost)
	7037272153, -- mollerOS logo
	7037339934, -- molge
	7037356929, -- idk what this is but its funny
	7044042331, -- mollersuite/moller hub logo before it got turned monocolor
	7044088926, -- seconds before "bragle" was taken
	7046289590 -- she wants your food
}

ContentProvider:PreloadAsync({
	'rbxassetid://7554747376',
	'rbxassetid://8192419115',
	unpack(
		(function()
			local tbl = table.create(#ids)
			for _, v in pairs(ids) do
				table.insert(tbl, 'rbxassetid://' .. v)
			end
			return tbl
		end)()
	)
})

function intro()
	API.play('rbxassetid://8192419115')

	Tween:Create(
		logo,
		TweenInfo.new(1, Enum.EasingStyle.Exponential, Enum.EasingDirection.In),
		{ BackgroundTransparency = 0 }
	):Play()

	for i = 0, 50 do
		local particle = Instance.new('ImageLabel', GUI)
		particle.Size = UDim2.new(0, 150, 0, 150)
		particle.Image = 'rbxassetid://' .. ids[math.random(#ids)]
		particle.BackgroundTransparency = 1
		particle.ScaleType = Enum.ScaleType.Fit
		particle.ZIndex = -100
		particle.AnchorPoint = Vector2.new(0, 1)
		particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
		particle.ImageTransparency = 1
		Tween:Create(particle, TweenInfo.new(.1), { ImageTransparency = 0 }):Play()
		Tween:Create(
			particle,
			TweenInfo.new(1, Enum.EasingStyle.Exponential, Enum.EasingDirection.In),
			{
				Position = UDim2.new(0, 0, 1, 0),
				Size = UDim2.new()
			}
		):Play()
		Debris:AddItem(particle, 1.5)
		game:GetService('RunService').Heartbeat:Wait()
	end

	task.wait(1)

	task.spawn(function()
		for i = 1,255 do
			icon.ImageColor3 = Color3.fromRGB(i,i,i)
		end
	end)
	API.notify{
		Text = 'Welcome to codename m²',
		App = 'codename m²'
	}
end

task.spawn(intro)

function outro()
	Debris:AddItem(logo, 0)

	for i = 0, 50 do
		local particle = Instance.new('ImageLabel', GUI)
		particle.Size = UDim2.new()
		particle.Image = 'rbxassetid://' .. ids[math.random(#ids)]
		particle.BackgroundTransparency = 1
		particle.ScaleType = Enum.ScaleType.Fit
		particle.ZIndex = -100
		particle.AnchorPoint = Vector2.new(0, 1)
		particle.Position = UDim2.new(0, 0, 1, 0)
		particle.ImageTransparency = 0
		Tween:Create(
			particle,
			TweenInfo.new(
				.1,
				Enum.EasingStyle.Sine,
				Enum.EasingDirection.InOut,
				0,
				false,
				.7
			),
			{ ImageTransparency = 1 }
		):Play()
		Tween:Create(
			particle,
			TweenInfo.new(1, Enum.EasingStyle.Exponential, Enum.EasingDirection.Out),
			{
				Position = UDim2.new(math.random(), 0, math.random(), 0),
				Size = UDim2.new(0, 150, 0, 150)
			}
		):Play()
		Debris:AddItem(particle, 1.5)
		game:GetService('RunService').Heartbeat:Wait()
	end
	game:GetService('Debris'):AddItem(GUI, 1.5)
end
